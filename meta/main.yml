---

dependencies:
  # https://codeberg.org/ansible/apache
  - role: apache
    become: true
    tags: apache
    when: group_names is not search("workstation")
  # https://codeberg.org/ansible/postgres
  - role: postgres # no secondary dependencies
    become: true
    tags: postgres
    when: group_names is not search("workstation")
  # https://codeberg.org/ansible/redis
  # redis role has been configured to not depend on php for netbox group
  - role: redis # no secondary dependencies
    become: true
    tags: redis
    when: group_names is not search("workstation")
  # https://codeberg.org/ansible/python3
  # dependency only for the sake of {{ python_version }} variable
  # otherwise that variable is not visible in netbox role
  - role: python3 # no secondary dependencies
    become: true
    tags: python3
    when: group_names is not search("workstation")
